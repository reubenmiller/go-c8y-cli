tests:
    It iterates over multiple files:
        command: |
            c8y util repeatcsv ./manual/util/repeatcsv/input.csv ./manual/util/repeatcsv/input.tsv
        exit-code: 0
        stdout:
            exactly: |
                {"disabled":false,"other":null,"text":"hello \"world","threshold":12.123,"time":1000}
                {"disabled":false,"other":null,"text":"hello world","threshold":12.123,"time":1000}
                {"disabled":null,"other":null,"text":"hello world","threshold":null,"time":1000}
                {"disabled":12.123,"other":null,"text":"hello world false","threshold":null,"time":true}
                {"disabled":null,"other":null,"text":"hello world","threshold":null,"time":2}
                {"disabled":12.123,"other":null,"text":"hello world false","threshold":null,"time":3}
    
    It detects the tsv delimiter:
        command: |
            c8y util repeatcsv ./manual/util/repeatcsv/input.tsv
        exit-code: 0
        stdout:
            exactly: |
                {"disabled":12.123,"other":null,"text":"hello world false","threshold":null,"time":true}
                {"disabled":null,"other":null,"text":"hello world","threshold":null,"time":2}
                {"disabled":12.123,"other":null,"text":"hello world false","threshold":null,"time":3}

    It detects the csv delimiter:
        command: |
            c8y util repeatcsv ./manual/util/repeatcsv/input.csv
        exit-code: 0
        stdout:
            exactly: |
                {"disabled":false,"other":null,"text":"hello \"world","threshold":12.123,"time":1000}
                {"disabled":false,"other":null,"text":"hello world","threshold":12.123,"time":1000}
                {"disabled":null,"other":null,"text":"hello world","threshold":null,"time":1000}

    It iterates over file contents until first x lines are met:
        command: |
            c8y util repeatcsv ./manual/util/repeatcsv/input.csv --infinite --first 2
        exit-code: 0
        stdout:
            exactly: |
                {"disabled":false,"other":null,"text":"hello \"world","threshold":12.123,"time":1000}
                {"disabled":false,"other":null,"text":"hello world","threshold":12.123,"time":1000}

    It iterates over file contents randomly skipping lines:
        command: |
            c8y util repeatcsv ./manual/util/repeatcsv/input.20rows.csv --randomSkip 0.5
        exit-code: 0
        stdout:
            # Let's assume at least 1 line will match be skipped and not all will be skipped
            line-count-min: 1
            line-count-max: 19

    It supports combining select and filters on the output:
        command: |
            c8y util repeatcsv ./manual/util/repeatcsv/input.20rows.csv --select text --filter 'text match row[0-9]$'
        exit-code: 0
        stdout:
            exactly: |
                {"text":"row1"}
                {"text":"row2"}
                {"text":"row3"}
                {"text":"row4"}
                {"text":"row5"}
                {"text":"row6"}
                {"text":"row7"}
                {"text":"row8"}
                {"text":"row9"}
